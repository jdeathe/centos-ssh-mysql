#!/usr/bin/env bash

# Set the time to wait for the MySQL initialisation process before exiting.
MYSQL_INIT_LIMIT=${MYSQL_INIT_LIMIT:-30}

# -----------------------------------------------------------------------------
# Application container configuration
# -----------------------------------------------------------------------------
MYSQL_AUTOSTART_MYSQLD_BOOTSTRAP="${MYSQL_AUTOSTART_MYSQLD_BOOTSTRAP:-true}"
MYSQL_AUTOSTART_MYSQLD_WRAPPER="${MYSQL_AUTOSTART_MYSQLD_WRAPPER:-true}"
MYSQL_ROOT_PASSWORD="${MYSQL_ROOT_PASSWORD:-}"
MYSQL_ROOT_PASSWORD_HASHED="${MYSQL_ROOT_PASSWORD_HASHED:-false}"
MYSQL_SUBNET="${MYSQL_SUBNET:-127.0.0.1}"
MYSQL_USER="${MYSQL_USER:-}"
MYSQL_USER_DATABASE="${MYSQL_USER_DATABASE:-}"
MYSQL_USER_PASSWORD="${MYSQL_USER_PASSWORD:-}"
MYSQL_USER_PASSWORD_HASHED="${MYSQL_USER_PASSWORD_HASHED:-false}"

# -----------------------------------------------------------------------------
# Custom SQL run once during initialisation of the database tables
# -----------------------------------------------------------------------------
printf \
	-v CUSTOM_MYSQL_INIT_SQL \
	-- "-- Custom Initialisation SQL can be included in %s" \
	'/etc/mysql-bootstrap.conf'
